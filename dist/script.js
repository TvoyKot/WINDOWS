(()=>{"use strict";const e=(e,t,o,n,c="block")=>{const l=document.querySelector(e),a=document.querySelectorAll(t),s=document.querySelectorAll(o);function r(){s.forEach(e=>{e.style.display="none"}),a.forEach(e=>{e.classList.remove(n)})}function i(e=0){s[e].style.display=c,a[e].classList.add(n)}r(),i(),l.addEventListener("click",e=>{const o=e.target;o&&(o.classList.contains(t.replace(/\./,""))||o.parentNode.classList.contains(t.replace(/\./,"")))&&a.forEach((e,t)=>{o!=e&&o.parentNode!=e||(r(),i(t))})})},t=e=>{document.querySelectorAll(e).forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/\D/,"")})})},o=e=>{const o=document.querySelectorAll("form"),n=document.querySelectorAll("input"),c=document.querySelectorAll("[data-modal]");var l;t('input[name="user_phone"]'),l='input[name="user_name"]',document.querySelectorAll(l).forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^А-Яа-яёЁ\s]+/g,"")}),e.addEventListener("blur",()=>{e.value=e.value.trim().replace(/\s+/g," ")})});o.forEach(t=>{t.addEventListener("submit",o=>{o.preventDefault();let l=document.createElement("div");l.classList.add("status"),t.appendChild(l);const a=new FormData(t);if("end"===t.getAttribute("data-calc"))for(let t in e)a.append(t,e[t]);c.forEach(e=>{(e.classList.contains("popup_calc_end")||e.classList.contains("popup_engineer"))&&setTimeout(()=>{e.style.display="none"},3e3)}),(async(e,t)=>{document.querySelector(".status").textContent="Загрузка...";let o=await fetch("assets/server.php",{method:"POST",body:t});return await o.text()})(0,a).then(e=>{console.log(e),l.textContent="Спасибо! Скоро мы с вами свяжемся"}).catch(()=>{l.textContent="Что-то пошло не так..."}).finally(()=>{n.forEach(e=>{e.value=""}),setTimeout(()=>{l.remove()},5e3)})})})};addEventListener("DOMContentLoaded",()=>{let n={};(e=>{const o=document.querySelectorAll(".balcon_icons_img"),n=document.querySelectorAll("#width"),c=document.querySelectorAll("#height"),l=document.querySelectorAll("#view_type"),a=document.querySelectorAll(".checkbox");function s(t,o,n){o.forEach((c,l)=>{c.addEventListener(t,()=>{switch(c.nodeName){case"SPAN":e[n]=l+1;break;case"INPUT":"checkbox"===c.getAttribute("type")?(e[n]=0===l?"Холодное":"Тёплое",o.forEach((e,t)=>{e.checked=!1,l==t&&(e.checked=!0)})):e[n]=c.value;break;case"SELECT":e[n]=c.value}console.log(e)})})}t("#width"),t("#height"),s("click",o,"form"),s("input",n,"width"),s("input",c,"height"),s("change",l,"type"),s("change",a,"profile")})(n),(()=>{function e(e,t,o,n=!0){const c=document.querySelectorAll(e),l=document.querySelector(t),a=document.querySelector(o),s=document.querySelectorAll("[data-modal]");console.log(s);const r=function(){let e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}();c.forEach(e=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),s.forEach(e=>{}),l.style.display="block",document.body.classList.add("modal-open"),document.body.style.marginRight=`${r}px`})}),a.addEventListener("click",()=>{s.forEach(e=>{e.classList.contains("main_form")?(e.style.display="block",console.log("test")):e.style.display="none"}),l.style.display="none",document.body.classList.remove("modal-open"),document.body.style.marginRight="0px"}),l.addEventListener("click",e=>{e.target===l&&n&&(s.forEach(e=>{e.style.display="none"}),l.style.display="none",document.body.classList.remove("modal-open"),document.body.style.marginRight="0px")})}e(".popup_engineer_btn",".popup_engineer",".popup_engineer .popup_close"),e(".phone_link",".popup",".popup .popup_close"),e(".popup_calc_btn",".popup_calc",".popup_calc_close"),e(".popup_calc_button",".popup_calc_profile",".popup_calc_profile_close",!1),e(".popup_calc_profile_button",".popup_calc_end",".popup_calc_end_close",!1)})(),e(".glazing_slider",".glazing_block",".glazing_content","active"),e(".decoration_slider",".no_click",".decoration_content > div > div","after_click"),e(".balcon_icons",".balcon_icons_img",".big_img > img","do_image_more","inline-block"),o(n),((e,t)=>{const o=e=>e<=9?"0"+e:e;((e,t)=>{const n=document.querySelector(e),c=n.querySelector("#days"),l=n.querySelector("#hours"),a=n.querySelector("#minutes"),s=n.querySelector("#seconds"),r=setInterval(i,1e3);function i(){const e=(e=>{const t=Date.parse(e)-Date.parse(new Date),o=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),c=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:c,minutes:n,seconds:o}})(t);c.textContent=o(e.days),l.textContent=o(e.hours),a.textContent=o(e.minutes),s.textContent=o(e.seconds),e.total<=0&&(c.textContent="00",l.textContent="00",a.textContent="00",s.textContent="00",clearInterval(r))}i()})(e,t)})(".container1","2026-02-01"),(()=>{const e=document.createElement("div"),t=document.querySelector(".works"),o=document.createElement("img");e.classList.add("popup"),t.appendChild(e),e.style.justifyContent="center",e.style.alignItems="center",e.style.display="none",e.appendChild(o),t.addEventListener("click",t=>{t.preventDefault();let n=t.target;if(console.log(t),n&&n.classList.contains("preview")){document.body.classList.add("modal-open"),e.style.display="flex";const t=n.parentNode.getAttribute("href");o.setAttribute("src",t),o.style.cssText="max-height: 100vh; max-width: 100%; padding-top: 26px"}n&&n.matches("div.popup")&&(e.style.display="none",document.body.classList.remove("modal-open"))})})()})})();